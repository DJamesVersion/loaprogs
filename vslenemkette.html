<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Phonology Ritual Calendar Clock</title>
<style>
  body {
    background:#0b0f1a;
    margin:0;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
  }
  canvas {
    background:#12182b;
    border-radius:50%;
  }
</style>
</head>
<body>
<canvas id="clock" width="750" height="750"></canvas>
<script>
const canvas=document.getElementById("clock");
const ctx=canvas.getContext("2d");
const cx=canvas.width/2, cy=canvas.height/2;
const radius=330;

// Custom calendar constants
const MONTHS=14, WEEKS=6, DAYS=5, HOURS=9, MINUTES=5, SECONDS=4, WHIKS=999;
const WHIKS_PER_SECOND=WHIKS;
const WHIKS_PER_MINUTE=SECONDS*WHIKS;
const WHIKS_PER_HOUR=MINUTES*WHIKS_PER_MINUTE;
const WHIKS_PER_DAY=HOURS*WHIKS_PER_HOUR;
const WHIKS_PER_YEAR=MONTHS*WEEKS*DAYS*WHIKS_PER_DAY;

// Anchor: New Year = Oct 14, 2025 (UTC)
const anchor=new Date("2025-10-14T00:00:00Z");

// Phonology mapping
const phonology={
  a:"ariatnah", b:"batobwatchaeh", c:"c'illiatnah", d:"diadowatchaeh",
  e:"eecheechuwah", f:"f'illianarre", g:"gagoikenne", h:"h'uilliatachaeh",
  i:"illianarre", j:"ampejinne", k:"kajoinkenne", l:"lenemketobontette",
  m:"momaw", n:"nona/nano", o:"oichenne", p:"perfuvium", q:"quaristenne",
  r:"roykenne", s:"stihuu/siataeh", t:"tetnobautte/tahkmahnelle",
  u:"uilliatachaeh", v:"vraelvrae", w:"weetus", x:"xiangxong",
  y:"y'uilliatachaeh", z:"zazoykenne"
};

// Assign names
const monthNames=["a","b","c","d","e","f","g","h","i","j","k","l","m","n"].map(l=>phonology[l]);
const weekNames=["o","p","q","r","s","t"].map(l=>phonology[l]);
const dayNames=["u","v","w","x","y"].map(l=>phonology[l]);

// Rituals mapped to hours
const rituals={
  0:"Lenemketobontette Dawn",
  2:"Stihuu Day",
  4:"Vraelvrae Day",
  6:"Tahkmahnelle Gathering",
  7:"Tetnobautte Tree Day"
};

// Seasonal markers
const seasons=["Ariatnah Siataeh","Ariatnah Stihuu","Vraelvrae Siataeh","Vraelvrae Stihuu"];

function drawCircle(month,week,day){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.save();
  ctx.translate(cx,cy);

  // Outer rim: Months
  for(let i=0;i<MONTHS;i++){
    const angle=(Math.PI*2/MONTHS)*i - Math.PI/2;
    ctx.fillStyle=(i===month)?"#ffd866":"#c792ea";
    ctx.font="14px sans-serif";
    ctx.textAlign="center";
    ctx.textBaseline="middle";
    ctx.fillText(monthNames[i],Math.cos(angle)*radius*0.95,Math.sin(angle)*radius*0.95);
  }

  // Weeks ring
  for(let i=0;i<WEEKS;i++){
    const angle=(Math.PI*2/WEEKS)*i - Math.PI/2;
    ctx.fillStyle=(i===week)?"#a2ff6f":"#7a89a3";
    ctx.font="13px sans-serif";
    ctx.fillText(weekNames[i],Math.cos(angle)*radius*0.7,Math.sin(angle)*radius*0.7);
  }

  // Days ring
  for(let i=0;i<DAYS;i++){
    const angle=(Math.PI*2/DAYS)*i - Math.PI/2;
    ctx.fillStyle=(i===day)?"#ff6f61":"#7a89a3";
    ctx.font="13px sans-serif";
    ctx.fillText(dayNames[i],Math.cos(angle)*radius*0.45,Math.sin(angle)*radius*0.45);
  }

  // Ritual inscriptions
  for(let h in rituals){
    const angle=(Math.PI*2/HOURS)*h - Math.PI/2;
    ctx.fillStyle="#ffd866";
    ctx.font="12px sans-serif";
    ctx.fillText(rituals[h],Math.cos(angle)*radius*0.3,Math.sin(angle)*radius*0.3);
  }

  // Seasonal inscriptions
  for(let i=0;i<4;i++){
    const angle=(Math.PI*2/4)*i - Math.PI/2;
    ctx.fillStyle="#c792ea";
    ctx.font="13px sans-serif";
    ctx.fillText(seasons[i],Math.cos(angle)*radius*0.15,Math.sin(angle)*radius*0.15);
  }

  ctx.restore();
}

function drawHands(h,m,s,w){
  ctx.save();
  ctx.translate(cx,cy);

  function hand(value,max,length,color,width){
    const angle=(Math.PI*2/max)*value - Math.PI/2;
    ctx.strokeStyle=color;
    ctx.lineWidth=width;
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.lineTo(Math.cos(angle)*length,Math.sin(angle)*length);
    ctx.stroke();
  }

  hand(h,HOURS,radius*0.25,"#62d0ff",6);
  hand(m,MINUTES,radius*0.2,"#a2ff6f",4);
  hand(s,SECONDS,radius*0.28,"#ff6f61",2);
  hand(w,WHIKS,radius*0.3,"#ffd866",1);

  ctx.restore();
}

function update(){
  const now=new Date();
  const elapsed=(now - anchor)/1000;
  const whiksElapsed=Math.floor(elapsed*WHIKS_PER_SECOND);

  let year=Math.floor(whiksElapsed/WHIKS_PER_YEAR);
  let rem=whiksElapsed%WHIKS_PER_YEAR;

  let month=Math.floor(rem/(WEEKS*DAYS*WHIKS_PER_DAY));
  rem%=WEEKS*DAYS*WHIKS_PER_DAY;

  let week=Math.floor(rem/(DAYS*WHIKS_PER_DAY));
  rem%=DAYS*WHIKS_PER_DAY;

  let day=Math.floor(rem/WHIKS_PER_DAY);
  rem%=WHIKS_PER_DAY;

  let hour=Math.floor(rem/WHIKS_PER_HOUR);
  rem%=WHIKS_PER_HOUR;

  let minute=Math.floor(rem/WHIKS_PER_MINUTE);
  rem%=WHIKS_PER_MINUTE;

  let second=Math.floor(rem/WHIKS_PER_SECOND);
  let whik=rem%WHIKS_PER_SECOND;

  drawCircle(month,week,day);
  drawHands(hour,minute,second,whik);
}

setInterval(update,50);
update();
</script>
</body>
</html>
